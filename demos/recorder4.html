<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
        <script src="../vendors/scoped.js"></script>
        <script src="../vendors/beta-noscoped.js"></script>
        <script src="../vendors/betajs-browser-noscoped.js"></script>
        <script src="../vendors/betajs-flash-noscoped.js"></script>
        <script src="../dist/betajs-media-noscoped.js"></script>
	</head>
	<body>
		<video style="width:50%; background-color: #FFF">
		</video>
		<script>
	        BetaJS.Flash.options = {
                flashFile : "../vendors/betajs-flash.swf",
                forceReload : true
            };
		    var instance = BetaJS.Media.Recorder.VideoRecorderWrapper.create({
				element: $("video").get(0),
				simulate: true
		    });		    
		    instance.ready.success(function () {
		    	instance.bindMedia().success(function () {
		    		instance.startRecord().success(function () {
			    		setTimeout(function () {
			    			instance.stopRecord().success(function () {
				    			alert("Recording Done");
			    			});
			    		}, 2500);
		    		});
		    	});
		    });
		</script>
	</body>
</html>

